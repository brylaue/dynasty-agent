<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Fantasy Research Agent</title>
  <link rel="stylesheet" href="/static/style.css" />
</head>
<body>
  <main class="container">
    <h1>Fantasy Research Agent</h1>
    <p class="subtitle">Hosted on Netlify • Backend proxied via /api • <a href="/api/health" target="_blank">API health</a></p>

    <section style="margin:8px 0; display:flex; gap:8px; align-items:center; flex-wrap:wrap;">
      <label for="backend-base">Backend URL (optional):</label>
      <input id="backend-base" type="url" placeholder="https://dynasty-agent-backend.fly.dev" style="flex:1; min-width:260px;" />
      <button id="save-backend" type="button">Use</button>
      <small style="color:#666;">Leave blank to use Netlify proxy</small>
    </section>

    <section id="rosters" style="margin-bottom:16px;">
      <div style="display:flex; gap:8px; align-items:center; flex-wrap:wrap;">
        <button id="load-rosters" type="button">Load Rosters</button>
        <label for="owner-select">My Team:</label>
        <select id="owner-select"></select>
        <button id="save-team" type="button">Save</button>
      </div>
      <div id="roster-list" style="margin-top:10px;"></div>
    </section>

    <section id="chat">
      <div id="messages"></div>
    </section>

    <form id="ask-form">
      <input id="question" name="question" type="text" placeholder="Ask about trades, start/sit, waivers..." autocomplete="off" required />
      <button type="submit">Ask</button>
    </form>

    <footer>
      <small>Powered by Sleeper + LangGraph</small>
    </footer>
  </main>

  <script src="/static/app.js"></script>
</body>
</html>